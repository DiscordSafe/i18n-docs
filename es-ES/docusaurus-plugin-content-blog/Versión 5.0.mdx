---
title: Versión 5.0 Beta
slug: v5.0
date: 2034-02-14 00:00:00
authors: vicente
image: /img/blog-covers/version-5.0.png
categories: [Changelog]
---

Bienvenidos a la versión **`5.0`**, esta versión se enfoca en mejorar radicalmente la moderación con D-Safe.
La versión está actualmente en desarrollo y puedes probarla y dejar tus sugerencias y opiniones gracias a la beta abierta en la que puedes participar invitando al bot beta.

![Blog cover](/img/blog-covers/version-5.0.png)
<!--truncate-->

import clsx from 'clsx';
import Link from '@docusaurus/Link';
import styles from '../../../src/pages/styles.module.css';

<Link
  className={clsx(
    'button button-blurple',
    styles.getStarted,
  )}
  to='https://discord.com/oauth2/authorize?client_id=859067982653947935&permissions=2100686078&scope=applications.commands%20bot'>
  Invita a D-Safe Beta
</Link>

![info](https://i.imgur.com/eEJXa2u.png)
![gif](https://i.imgur.com/A0akttH.gif)

## Slash Commands :ribbon: 
Se han pasado todos los comandos a comandos de barra diagonal, ahora puedes ejecutarlos poniendo `/`. [**ver lista completa**](/docs/beta/slashy-list)

## Context menus 🪄
Se han añadido comandos de menú de contexto, ahora puedes ejecutar comandos directamente al hacer click derecho (Click derecho > Aplicaciones) sobre algo (solo en pc por ahora).
* Sobre mensajes:
    * Approve suggestion
    * Deny suggestion
    * Delete suggestion 
    * Blockword, bloquea el contenido del mensaje.
    * Set verification message, establece el mensaje de verificación (reacción) con click derecho para evitar tener que explicar cómo copiar ids, etc.
* Sobre usuarios:
    * User cases
    * User warnings
    * User info
    * Warn
    * Mute
    * Unmute
    * Clear all messages
    * Softban

## Cosas nuevas :sparkles:
Cosas completamentes nuevas recién sacadas del horno.

- **¡Casos de moderación!**
Finalmente algo revolucionario para el módulo de moderación, ahora cada acción de moderación se guardará como caso (con un número único) con información del usuario sancionado, moderador, acción, razón, tiempo, etc.

  * `cases`: Puedes ver los casos ordenados por recientes.
  * `case [Número del caso]`: puedes ver la información de un caso.
  * `reason [Número del caso] [Nueva razón]`: puedes añadir o editar la razón de un caso.
  
  :warning: Se han migrado internamente todos los warns como casos, como no se guardaba la fecha en los warns aparecerá una incorrecta.

- **Estadísticas de moderación.**
Con el nuevo comando `modstats` puedes ver gráficos de los casos, agregaremos más en el futuro, por ahora:
  * Gráfico con los tipos de casos.
  * Gráfico con moderadores más activos, mostrando el porcentaje de cada uno.

- **Logs de casos.**
Además, ahora en los **logs de moderación** (`logs mod`) se envían los registros con los cambios en los casos, ahí podrás ver los números de los casos.

- **Ajustes para el comportamiento de la moderación.**
Poderosos comandos de moderación requieren una forma de configurarlos, ahora puedes configurar los siguiente comportamiento usando el nuevo comando `setup`:
  * Notificar por md a los usuarios por defecto, puede ser sobreescrito con la opción `--md` al acabar el comando.
  * Eliminar automáticamente los mensajes por defecto, puede ser sobreescrito con la opción `--del` al acabar el comando.

- **Nueva documentación**
Hemos habilitado un enlace donde podéis ver la nueva documentación preliminar con las cosas nuevas [aquí](https://deploy-preview-17--doc-ds.netlify.app/). *Está en desarrollo y puede estar incompleta, no debe ser usada como soporte.*
  * Documentación multilenguaje en desarrollo.
  * [Nueva categoría de premium donde estará toda la guía de configuración premium](https://deploy-preview-17--doc-ds.netlify.app/docs/premium/premium).
  * Rediseño de los temas claro y oscuros para usar los nuevos colores de Discord.
  * Guía de configuración separada por páginas, cada módulo tiene su propia página bajo la categoría de "Configuración".
  * FAQ actualizado y categoría de solución de problemas.
  * Categoría de comunidad con todo lo relacionado con la comunidad.

- **Nuevos comandos**
Una gran tonelada de nuevos útiles comandos.
  * `setup`, una fantasía, configura automáticamente la verificación, filtros y moderación usando botones y selectores, PROBADLO.
  * `deafen` y `undeafen`, para ensordecer/desensordecer a un miembro.
  * `emoji` (con alias `jumbo`), muestra el emoji agrandado.
  * `inviteinfo`, muestra la información de una invitación, ejemplo: `inviteinfo discord-testers`.
  * `roleinfo`, muestra la información de un rol.
  * `suggestions editcomment [ID Sugerencia] [Nuevo comentario]`, edita los comentarios del staff de las sugerencias ya aprobadas/denegadas.
  * `logs help/list/mod/boost`, nuevos subcomandos en `logs`.
  * `topbots`, muestra el top de bots de Discord.
  * `softban`, banea y desbanea inmediatamente para borrar todos sus mensajes.
  * `delrole`, elimina el rol mencionado si el usuario tiene permisos.

- **Nuevos tipos de logs**
  * `mod`, envía la información __(sancionado, moderador, razón, etc) de los comandos de moderación usados__.
  * `boost`, logs de boost (agradecimiento), unboost, subida y bajada de nivel de boost. __Solo para D-Safe Premium.__

- **¡Nuevos packs de palabras bloqueadas!** (`blockword add pack`)
  * `en`: Palabras ofensivas en Inglés.
  * `es`: Palabras ofensivas en Español
  * `lgbt`: Insultos a la comunidad lgbt.
  * `nsfw`: Palabras ofensivas explícitas.
  * `racists`: Insultos racistas.

- **Nuevos logs**
  * __Logs de comandos de moderación__.
  * __Logs de canales__: cambio del tema, cambio nsfw, cambio del nombre, cambio del tipo, cambio del cooldown.
  * __Logs de miembros__: cambio del apodo de miembro, cambio en los roles de miembros, cambio del nombre.
  * __Logs del servidor__: cambio de nombre, cambio de afk, cambio descripción, cambio características, cambio vanity URL.
  * __Logs de mensajes__: nuevo mensaje anclado.
  * __Logs de roles__: cambio de los permisos del rol.
  * __Logs de voz__: mute, unmute, ensordeció, desensordeció, empezó stream, terminó stream, entrada, salida o cambio en los canales de voz.
  * Información del moderador al banear/desbanear.
  * Añadidas insignias e información de bot y mejorada fecha al unirse o salir miembros.

- **¡Nuevas insignias de D-Safe!**, se mostrarán en el `info` y `server`.
- **+15 opciones en el `clear`** Algunas son `clear match/not/startsWith/endsWith/invites/links/embeds/before/after/...`, salen todas con `help clear`.
- ¡**Soporte a nuevas características de Discord!**
    - Todos los selectores por reacción han sido cambiados por botones.
    - **Nuevo formato de fechas y tiempo**, ahora en las fechas y tiempos que se muestran en el bot se usa el nuevo formato de fechas en mensajes de Discord, puedes verlo por ejemplo en el `info`.
    - **Logs de hilos**
    - Nuevos menús de selección (dropdowns) en el comando `setup`, configurar la verificación nunca ha sido más fácil, se usan al configurar el canal, rol de usuario, rol de no verificado y el resto de configuraciones opcionales.
    - Ícono de rol y enlace en `roleinfo`.
    - Soporte a avatares por servidor en `avatar` y `userinfo`.
    - Soporte a banners y color personalizado en `userinfo`.
- Nuevo pack de palabras bloqueadas `pacman`, bloquea todos los pacmans! `blockword add pack pacman`.
- Logs de eventos de canales escenario, creación, eliminación y actualización de eventos en los canales escenario.
- ¡Opción de ignorar canales y roles en los filtros!
- Nueva opción `ban --save`, guarda los mensajes al hacer ban.

## Mejoras :pushpin:
Comandos o cosas mejorados en todos los aspectos del bot.

- **Mejoras en `invite` y `server`:**
  * Nivel de NSFW del servidor.
  * Todas las imágenes del servidor adjuntadas.
  * Cantidades más aproximadas en miembros, etc.
  * Títulos de las características del servidor.
  * Nuevas características de servidores.
  * Quitada información de la región ya que ahora es por canal no por servidor.

- **Nuevas opciones en las sugerencias:**
  * `suggestions setapproved disable`, para deshabilitar el canal de sugerencias aprobadas.
  * `suggestions setdenied disable`, para deshabilitar el canal de sugerencias denegadas.
  * `suggestions setcommandschannel disable`, para deshabilitar el canal de comandos de las sugerencias.

* Se han optimizado y mejorado los comandos de `filter`, `setlang` y `settings` ahora muestran más información con paginación.
* Enlaces en el comando `help` y `botinfo` pasados a botones.
* Mejorado analizador de usuarios y razones en los comandos de moderación.
* Se ha quitado el divisor extraño (` | `) entre emojis y el texto en los mensajes.
* Ahora `filter help` muestra más información con paginación.
* Se han reemplazado las confirmaciones con "yes" por reacciones.
* Comando `info` totalmente renovado, más información, nuevo alias whois.
* Función de respuesta de Discord! Ahora para las respuestas normales el bot responderá con la función de responder de Discord.
* Agregado más tiempo de espera para el `suggestions list`.
* El `verification setage` ya funciona sin requerir que configures la verificación podrás establecer la edad mínima requerida de las cuentas de los nuevos usuarios sin tener que configurar una verificación.
* Al responder a un comando con la función de respuesta de Discord ya no menciona, no es necesario.
* __Ahora el `ban`, `kick` y `unban` aceptan como argumento nombres de usuarios__, **esto puede no ser definitivo, evite ahora usar `d!ban Antonio` porque acabará baneando al pobre Antonio.**
* Todos los comandos de moderación __aceptan menciones e IDs__.
* El `mute` ahora puede aceptar el __formato de fecha junto a la cantidad__.
* Las acciones de moderación indican __información de la acción en el audit log__ (moderador, tiempo, etc).
* Potenciado el rendimiento el tiempo de respuesta en los comandos.
* Opción de `--md` después del comando para indicar que le notifique por md al usuario, por defecto no lo hará.
* La cantidad de tiempo, formato de tiempo y razón en el `mute` ahora son opcionales, solo es requerido el usuario.
* Mails del `mails` ordenados bien por fecha, un alivio para tus ojos.
* El comando `server` ahora diferencia webhooks de canales seguidos.
* Actualizados ejemplos de `blockword` en `filters help`.
* Agregada separación por puntos en los números del `help` y `botinfo`.
* `settings` ahora muestra __más información__ en un embed con paginación.
* ¡Nuevos emojis diseñados por nosotros!
* Nuevos colores actualizados con los nuevos de Discord.
* Ahora un usuario podrá tener varios premiums en distintos servidores.
* Selección de servidor al hacer `premium redeem` si tiene varios premiums.
* Explicaciones y embeds mejorados sobre premium.
* El `approve` ahora se puede usar sin depender del modo de verificación aprobación, acepta menciones, IDs y "all".
* Selección de idiomas en `setlang` movido a selector.
* Se borra el mensaje que hizo la persona cuando envía una sugerencia
* `help` y `commands` renovados con botoncitos chulos. 
* Añadida cantidad de cases/warnings en las últimas X tiempo.
* Imágenes en `avatar` a máxima calidad.
* Automatización de generación de premium mejorada. 
* El `blockword` ahora da error si le pones palabras que ya están bloqueadas. 
* El `commands` edita el mensaje de 'revisa tus mds' si no puede y le pone la lista de comandos ahí. 
* El filtro de invites ha sido mejorado. 
* Soporte a todos los fomatos de colores en `suggestions setcolor`. *típica cosa en la que pierdes 3h que nadie acaba aprovechando*

## Arreglo de bugs :bug:
Un abrazo enorme a todos los que probaron y reportaron estos bugs.

* Arreglados correos duplicados que rompían el comando `mail`.
* Quitados antiguos emojis que quedaron por ahí.
* El `server` ya funciona en servidores con Stage Channels, se muestran también en la lista de canales del server.
* Arreglados varios bugs con las respuestas del `server` sin mostrarse o sin terminar de cargar.
* Lista de comandos en `commands` ordenada alfabeticamente.
* Mejorada ortografía del registro de cambios y mail.
* Arreglados un par de bugs al mostrar fechas en comandos.
* Arreglado un bug donde se veía mal los enlaces en la lista de sugerencias.
* Arreglado bug que no permitía deshabilitar las sugerencias.
* Arreglado bugs de filtros no funcionando en la beta.
* __Los emojis de :safeyes: :nopesafe: han sido reemplazados por otros mejores__, para parecerse más al diseño de Discord.
* __Mejora de la apariencia__ de los mensaje de errores y respuestas.
* Arreglado error que hacía `ban, kick o warn` a todos los usuarios.
* Arreglado un bug en el `ban` cuando el miembro no estaba en el servidor.
* ¡Arreglado bug de la verificación por reacción!
* Arreglado bugs de filtros.
* Arreglado `setlang`.
* Actualizadas insignias en `userinfo` y `serverinfo`.
* Mejorado módulo de traducciones, ahora las traducciones son open source, https://github.com/DiscordSafe/i18n.
* El `role` no respondía.
* El `modstats` no respondía.
* El `info` no respondía si tenías muchos roles, *superaba el límite de caracteres del mensaje*.
* Los logs de cambios de miembros y cambios en canales de voz no funcionaban correctamente.
* El mute no funcionaba al indicar el usuario por ID.
* El captcha no enviaba la imagen.
* El `setup` no respondía si no tenías muchos canales/roles que podía usar para mostrarte en la selección.
* El `commands` no mandaba la lista de comandos al canal si no podía mandarle por md al usuario.
* El `suggest` no respondía con el mensaje de "sugerencia enviada".
* Los comandos de moderación (`ban`, `kick`, `mute`, etc) no baneaban ni respondían al no encontrar a los usuarios usando un nombre.
* El `mute` no funcionaba correctamente cuando no tenías un rol Muted creado y tenía que crearlo.
* El `unban` no enviaba (cuando podía) al usuario la notificación cuando es desbaneado.
* Los logs por cambios en roles no funcionaban en algunos casos.
* El filtro anti-spam no ignoraba correctamente a los roles ignorados.
* Las palabras bloqueadas no ignoraban correctamente a los roles ignorados.
* El `setup` no respondía cuando tenías canales con descripciones muy largas sin espacios.
* Arreglada fecha incorrecta en log de nuevo miembro.
* Arreglado bug de undefined en las características del server.
* El `unban` ahora encuentra bien a los usuarios por usernames.
* El `mute` y `unmute` ya configuran bien los canales.
* Arreglado el `setup`.
* Logs de hilos arreglados.
* Verificación por captcha arreglada.